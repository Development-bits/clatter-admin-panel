import{r as u,d as i,j as t,I as c,M as ge,J as k,O as xe,P as Ne,Q as ye,X as we,h as W,S as Ce,U as x,V as y,W as Se,Y as A,Z as Oe,$ as z,a0 as Y,a1 as G,a2 as K,a3 as U,a4 as j,a5 as J,a6 as ee,C as L,e as te,a7 as ke,l as re,R as F,m as O,s as $,i as Pe}from"./index.caa04c89.js";import{u as je,C as S}from"./index.esm.5e11306c.js";import{S as T}from"./react-select.esm.84353a2c.js";import{Q as ze,C as $e,R as Te}from"./app-users.548d8a75.js";import{m as Q,S as Ae,a as D,A as Le}from"./ActiveUser.fc653b0a.js";function We(e,s){if(e==null)return{};var n=Fe(e,s),l,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)l=r[a],!(s.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,l)||(n[l]=e[l]))}return n}function Fe(e,s){if(e==null)return{};var n={},l=Object.keys(e),a,r;for(r=0;r<l.length;r++)a=l[r],!(s.indexOf(a)>=0)&&(n[a]=e[a]);return n}var M=u.exports.forwardRef(function(e,s){var n=e.color,l=n===void 0?"currentColor":n,a=e.size,r=a===void 0?24:a,p=We(e,["color","size"]);return i("svg",{ref:s,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...p,children:[t("polyline",{points:"21 8 21 21 3 21 3 8"}),t("rect",{x:"1",y:"3",width:"22",height:"5"}),t("line",{x1:"10",y1:"12",x2:"14",y2:"12"})]})});M.propTypes={color:c.exports.string,size:c.exports.oneOfType([c.exports.string,c.exports.number])};M.displayName="Archive";const Me=M;function Re(e,s){if(e==null)return{};var n=Ee(e,s),l,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)l=r[a],!(s.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,l)||(n[l]=e[l]))}return n}function Ee(e,s){if(e==null)return{};var n={},l=Object.keys(e),a,r;for(r=0;r<l.length;r++)a=l[r],!(s.indexOf(a)>=0)&&(n[a]=e[a]);return n}var R=u.exports.forwardRef(function(e,s){var n=e.color,l=n===void 0?"currentColor":n,a=e.size,r=a===void 0?24:a,p=Re(e,["color","size"]);return i("svg",{ref:s,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...p,children:[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t("polyline",{points:"14 2 14 8 20 8"}),t("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t("polyline",{points:"10 9 9 9 8 9"})]})});R.propTypes={color:c.exports.string,size:c.exports.oneOfType([c.exports.string,c.exports.number])};R.displayName="FileText";const ae=R;function Ie(e,s){if(e==null)return{};var n=Ve(e,s),l,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)l=r[a],!(s.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,l)||(n[l]=e[l]))}return n}function Ve(e,s){if(e==null)return{};var n={},l=Object.keys(e),a,r;for(r=0;r<l.length;r++)a=l[r],!(s.indexOf(a)>=0)&&(n[a]=e[a]);return n}var E=u.exports.forwardRef(function(e,s){var n=e.color,l=n===void 0?"currentColor":n,a=e.size,r=a===void 0?24:a,p=Ie(e,["color","size"]);return i("svg",{ref:s,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...p,children:[t("circle",{cx:"12",cy:"12",r:"1"}),t("circle",{cx:"12",cy:"5",r:"1"}),t("circle",{cx:"12",cy:"19",r:"1"})]})});E.propTypes={color:c.exports.string,size:c.exports.oneOfType([c.exports.string,c.exports.number])};E.displayName="MoreVertical";const Be=E;function _e(e,s){if(e==null)return{};var n=He(e,s),l,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)l=r[a],!(s.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,l)||(n[l]=e[l]))}return n}function He(e,s){if(e==null)return{};var n={},l=Object.keys(e),a,r;for(r=0;r<l.length;r++)a=l[r],!(s.indexOf(a)>=0)&&(n[a]=e[a]);return n}var I=u.exports.forwardRef(function(e,s){var n=e.color,l=n===void 0?"currentColor":n,a=e.size,r=a===void 0?24:a,p=_e(e,["color","size"]);return i("svg",{ref:s,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...p,children:[t("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),t("polyline",{points:"16 6 12 2 8 6"}),t("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]})});I.propTypes={color:c.exports.string,size:c.exports.oneOfType([c.exports.string,c.exports.number])};I.displayName="Share";const qe=I;function Ye(e,s){if(e==null)return{};var n=Je(e,s),l,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)l=r[a],!(s.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,l)||(n[l]=e[l]))}return n}function Je(e,s){if(e==null)return{};var n={},l=Object.keys(e),a,r;for(r=0;r<l.length;r++)a=l[r],!(s.indexOf(a)>=0)&&(n[a]=e[a]);return n}var V=u.exports.forwardRef(function(e,s){var n=e.color,l=n===void 0?"currentColor":n,a=e.size,r=a===void 0?24:a,p=Ye(e,["color","size"]);return i("svg",{ref:s,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...p,children:[t("polyline",{points:"3 6 5 6 21 6"}),t("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),t("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),t("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})});V.propTypes={color:c.exports.string,size:c.exports.oneOfType([c.exports.string,c.exports.number])};V.displayName="Trash2";const Qe=V,se=e=>{const{open:s,size:n,title:l,width:a,children:r,closeBtn:p,className:g,toggleSidebar:b,bodyClassName:m,contentClassName:h,wrapperClassName:f,headerClassName:d,...v}=e,w=p||t(we,{className:"cursor-pointer",size:15,onClick:b});return i(ge,{isOpen:s,toggle:b,contentClassName:k("overflow-hidden",{[h]:h}),modalClassName:k("modal-slide-in",{[f]:f}),className:k({[g]:g,"sidebar-lg":n==="lg","sidebar-sm":n==="sm"}),...a!==void 0?{style:{width:String(a)+"px"}}:{},...v,children:[t(xe,{className:k({[d]:d}),toggle:b,close:w,tag:"div",children:t("h5",{className:"modal-title",children:t("span",{className:"align-middle",children:l})})}),t(Ne,{options:{wheelPropagation:!1},children:t(ye,{className:k("flex-grow-1",{[m]:m}),children:r})})]})};se.propTypes={className:c.exports.string,bodyClassName:c.exports.string,open:c.exports.bool.isRequired,title:c.exports.string.isRequired,contentClassName:c.exports.string,wrapperClassName:c.exports.string,children:c.exports.any.isRequired,size:c.exports.oneOf(["sm","lg"]),toggleSidebar:c.exports.func.isRequired,width:c.exports.oneOfType([c.exports.number,c.exports.string])};const X={email:"",firstName:"",lastName:"",userName:"",password:"",phoneNumber:""},De=e=>Object.values(e).every(s=>typeof s=="object"?s!==null:s.length>0),Xe=({open:e,toggleSidebar:s})=>{const[n,l]=u.exports.useState(null),a=W(),{control:r,setValue:p,setError:g,handleSubmit:b,formState:{errors:m}}=je({defaultValues:X});return t(se,{size:"lg",open:e,title:"New User",headerClassName:"mb-1",contentClassName:"pt-0",toggleSidebar:s,onClosed:()=>{for(const d in X)p(d,"")},children:i(Ce,{onSubmit:b(d=>{if(l(d),De(d))s(!1),a(Oe(d));else for(const v in d)d[v]===null&&g("country",{type:"manual"}),d[v]!==null&&d[v].length===0&&g(v,{type:"manual"})}),children:[i("div",{className:"mb-1",children:[i(x,{className:"form-label",for:"userName",children:["Username ",t("span",{className:"text-danger",children:"*"})]}),t(S,{name:"userName",control:r,render:({field:d})=>t(y,{id:"userName",placeholder:"johnDoe99",invalid:m.userName&&!0,...d})})]}),i("div",{className:"mb-1",children:[i(x,{className:"form-label",for:"firstName",children:["First Name ",t("span",{className:"text-danger",children:"*"})]}),t(S,{name:"firstName",control:r,render:({field:d})=>t(y,{id:"firstName",placeholder:"John",invalid:m.firstName&&!0,...d})})]}),i("div",{className:"mb-1",children:[i(x,{className:"form-label",for:"lastName",children:["Last Name ",t("span",{className:"text-danger",children:"*"})]}),t(S,{name:"lastName",control:r,render:({field:d})=>t(y,{id:"lastName",placeholder:"Doe",invalid:m.lastName&&!0,...d})})]}),i("div",{className:"mb-1",children:[i(x,{className:"form-label",for:"email",children:["Email ",t("span",{className:"text-danger",children:"*"})]}),t(S,{name:"email",control:r,render:({field:d})=>t(y,{type:"email",id:"userEmail",placeholder:"john.doe@example.com",invalid:m.email&&!0,...d})})]}),i("div",{className:"mb-1",children:[i(x,{className:"form-label",for:"password",children:["Password ",t("span",{className:"text-danger",children:"*"})]}),t(S,{name:"password",control:r,render:({field:d})=>t(y,{type:"password",id:"password",placeholder:"********",invalid:m.email&&!0,...d})}),t(Se,{color:"muted",children:"You can use letters, numbers & periods"})]}),i("div",{className:"mb-1",children:[i(x,{className:"form-label",for:"phoneNumber",children:["Contact ",t("span",{className:"text-danger",children:"*"})]}),t(S,{name:"phoneNumber",control:r,render:({field:d})=>t(y,{id:"phoneNumber",placeholder:"(397) 294-5153",invalid:m.phoneNumber&&!0,...d})})]}),t(A,{type:"submit",className:"me-1",color:"primary",children:"ADD"}),t(A,{type:"reset",color:"secondary",outline:!0,onClick:s,children:"Cancel"})]})})},Ze=e=>{var s;return(s=e==null?void 0:e.avatar)!=null&&s.length?t(J,{className:"me-1",img:e.avatar,width:"32",height:"32"}):t(J,{initials:!0,className:"me-1",color:e.avatarColor||"light-primary",content:e.fullName||"John Doe"})},Z={pending:"light-warning",active:"light-success",inactive:"light-secondary"},Ge=[{name:"User",sortable:!0,minWidth:"300px",sortField:"fullName",selector:e=>e.firstName+e.lastName,cell:e=>i("div",{className:"d-flex justify-content-left align-items-center",children:[Ze(e),i("div",{className:"d-flex flex-column",children:[t(z,{to:`/user/view/${e.id}`,className:"user_name text-truncate text-body",children:i("span",{className:"fw-bolder",children:[e.firstName," ",e.lastName]})}),t("small",{className:"text-truncate text-muted mb-0",children:e.email})]})]})},{name:"User Status",sortable:!0,minWidth:"130px",sortField:"userStatus",selector:e=>e.userStatus,cell:e=>t(Y,{className:"text-capitalize d-flex flex-column",color:Z[e.createdAt],pill:!0,children:t("span",{className:"text-capitalize",children:e.userStatus})})},{name:"Plan",minWidth:"135px",sortable:!0,sortField:"currentPlan",selector:e=>e.plan,cell:e=>t("span",{className:"text-capitalize",children:e.plan})},{name:"Subscription Status",minWidth:"140px",sortable:!0,sortField:"subscription",selector:e=>e.subscriptionStatus,cell:e=>t(Y,{className:"text-capitalize d-flex flex-column",color:Z[e.createdAt],pill:!0,children:t("span",{className:"text-capitalize",children:e.subscriptionStatus})})},{name:"Created At",minWidth:"140px",sortable:!0,sortField:"createdAt",selector:e=>e.createdAt,cell:e=>i("div",{className:"text-capitalize d-flex flex-column",children:[t("span",{children:Q(e.createdAt).format("MM/DD/YY")}),t("smal",{children:Q(e.createdAt).format("hh:mm A")})]})},{name:"Actions",minWidth:"100px",cell:e=>t("div",{className:"column-action",children:i(G,{children:[t(K,{tag:"div",className:"btn btn-sm",children:t(Be,{size:14,className:"cursor-pointer"})}),i(U,{children:[i(j,{tag:z,className:"w-100",to:`/user/view/${e.id}`,children:[t(ae,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"Details"})]}),i(j,{tag:z,to:`/user/view/${e.id}&edit=true`,className:"w-100",children:[t(Me,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"Edit"})]}),i(j,{tag:"button",className:"w-100",onClick:s=>{s.preventDefault()},children:[t(Qe,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"Delete"})]})]})]})})}],Ke=({store:e,toggleSidebar:s,handlePerPage:n,rowsPerPage:l,handleFilter:a,searchTerm:r})=>{function p(b){let m;const h=",",f=`
`,d=Object.keys(e[0]);return m="",m+=d.join(h),m+=f,b.forEach(v=>{let w=0;d.forEach(C=>{w>0&&(m+=h),m+=v[C],w++}),m+=f}),m}function g(b){const m=document.createElement("a");let h=p(b);if(h===null)return;const f="export.csv";h.match(/^data:text\/csv/i)||(h=`data:text/csv;charset=utf-8,${h}`),m.setAttribute("href",encodeURI(h)),m.setAttribute("download",f),m.click()}return t("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:i(F,{children:[t(O,{xl:"6",className:"d-flex align-items-center p-0",children:i("div",{className:"d-flex align-items-center w-100",children:[t("label",{htmlFor:"rows-per-page",children:"Show"}),i(y,{className:"mx-50",type:"select",id:"rows-per-page",value:l,onChange:n,style:{width:"5rem"},children:[t("option",{value:"10",children:"10"}),t("option",{value:"25",children:"25"}),t("option",{value:"50",children:"50"})]}),t("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),i(O,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[i("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[t("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),t(y,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:r,onChange:b=>a(b.target.value)})]}),i("div",{className:"d-flex align-items-center table-header-actions",children:[i(G,{className:"me-1",children:[i(K,{color:"secondary",caret:!0,outline:!0,children:[t(qe,{className:"font-small-4 me-50"}),t("span",{className:"align-middle",children:"Export"})]}),t(U,{children:i(j,{className:"w-100",onClick:()=>g(e),children:[t(ae,{className:"font-small-4 me-50"}),t("span",{className:"align-middle",children:"CSV"})]})})]}),t(A,{className:"add-new-user",color:"primary",onClick:s,children:"Add New User"})]})]})]})})},Ue=({allUserData:e,total:s})=>{const n=W(),[l,a]=u.exports.useState("desc"),[r,p]=u.exports.useState(""),[g,b]=u.exports.useState(1),[m,h]=u.exports.useState(!1),[f,d]=u.exports.useState(10),[v,w]=u.exports.useState({value:"",label:"Select Status"}),[C,B]=u.exports.useState({value:"",label:"Select Plan"}),[P,_]=u.exports.useState({value:"",label:"Select Status",number:0}),H=()=>h(!m);u.exports.useEffect(()=>{let o={page:g,plan:C.value,subStatus:v.value,status:P.value,limit:f,keyword:r};n(ee(o))},[n,g,C,v,f,r,P]);const le=[{value:"",label:"All"},{value:"active",label:"Active"},{value:"cancel",label:"Cancelled"}],ne=[{value:"",label:"All"},{value:"Creator Monthly Plan",label:"Creator Monthly Plan"},{value:"Agency Monthly Plan",label:"Agency Monthly Plan"},{value:"Company Monthly Plan",label:"Company Monthly Plan"},{value:"Free Trial",label:"Free Trial"}],ie=[{value:"",label:"All",number:0},{value:"banned",label:"Banned",number:1},{value:"active",label:"Active",number:2},{value:"inactive",label:"Inactive",number:3},{value:"deactivated",label:"Deactivated",number:4}],oe=o=>{b(o.selected+1)},ce=o=>{const N=parseInt(o.currentTarget.value);d(N)},de=o=>{p(o)},me=()=>{const o=Number(Math.ceil(s/f));return t(Te,{previousLabel:"",nextLabel:"",pageCount:o||1,activeClassName:"active",forcePage:g!==0?g-1:0,onPageChange:N=>oe(N),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},pe=()=>{const o={role:v.value,currentPlan:C.value,status:P.value,q:r},N=Object.keys(o).some(function(ve){var q;return((q=o[ve])==null?void 0:q.length)>0});return(e==null?void 0:e.length)>0&&!N?e:(e==null?void 0:e.length)===0&&N?[]:e==null?void 0:e.slice(0,f)},ue=(o,N)=>{a(N)},he=o=>{!o||(o.value!==""&&o.label?w({label:o.label,value:o.value}):w({label:o.label,value:o.value}))},fe=o=>{!o||(o.value!==""&&o.label?B({label:o.label,value:o.value}):B({label:o.label,value:o.value}))},be=o=>{!o||(o.value!==""&&o.label?_({label:o.label,value:o.value}):_({label:o.label,value:o.value}))};return i(u.exports.Fragment,{children:[i(L,{children:[t(te,{children:t(ke,{tag:"h4",children:"Filters"})}),t(re,{children:i(F,{children:[i(O,{md:"4",children:[t(x,{for:"role-select",children:"Subscription Status"}),t(T,{isClearable:!1,value:v||"",options:le,className:"react-select",classNamePrefix:"select",theme:$,onChange:he})]}),i(O,{className:"my-md-0 my-1",md:"4",children:[t(x,{for:"plan-select",children:"Plan"}),t(T,{theme:$,isClearable:!1,className:"react-select",classNamePrefix:"select",options:ne,value:C||"",onChange:fe})]}),i(O,{md:"4",children:[t(x,{for:"status-select",children:"User Status"}),t(T,{theme:$,isClearable:!1,className:"react-select",classNamePrefix:"select",options:ie,value:P||"",onChange:be})]})]})})]}),t(L,{className:"overflow-hidden",children:t("div",{className:"react-dataTable",children:t(ze,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:Ge,onSort:ue,sortIcon:t($e,{}),className:"react-dataTable",paginationComponent:me,data:pe(),subHeaderComponent:t(Ke,{store:e,searchTerm:r,rowsPerPage:f,handleFilter:de,handlePerPage:ce,toggleSidebar:H})})})}),t(Xe,{open:m,toggleSidebar:H})]})},lt=()=>{var a;const e=W(),{allUserData:s,allUserDataLoading:n,allUserDataError:l}=Pe(r=>r.user);return u.exports.useEffect(()=>{e(ee())},[]),i("div",{className:"app-user-list",children:[i(L,{children:[t(te,{children:t("h5",{children:"User Stats"})}),t(re,{children:t(F,{children:(a=s==null?void 0:s.stats)==null?void 0:a.map(r=>{let p=null;return r.title==="Total Users"?p=t(D,{size:15}):r.title==="Active Users"?p=t(Le,{size:15}):p=t(D,{size:15}),t(O,{lg:"4",sm:"6",children:t(Ae,{className:"shadow-lg",statTitle:r==null?void 0:r.title,icon:p,renderStats:t("h3",{className:"fw-bolder mb-75",children:r==null?void 0:r.count})})})})})})]}),t(Ue,{allUserData:s==null?void 0:s.data,total:s==null?void 0:s.total})]})};export{lt as default};
