import{r as u,d as c,j as t,I as o,M as F,O as M,U as H,P as q,Q,S as C,V as E,h as Y,W as J,C as P,e as X,X as de,l as Z,R as j,m as b,Y as O,s as S,Z as I,i as ue}from"./index.89cf50f8.js";import{S as k}from"./react-select.esm.e8b36d99.js";import{Q as pe,C as me,R as he}from"./app-users.9d221ff1.js";import{m as _,S as fe,a as V,A as ve}from"./ActiveUser.bb78a065.js";function ge(e,a){if(e==null)return{};var s=xe(e,a),l,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)l=r[n],!(a.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,l)||(s[l]=e[l]))}return s}function xe(e,a){if(e==null)return{};var s={},l=Object.keys(e),n,r;for(r=0;r<l.length;r++)n=l[r],!(a.indexOf(n)>=0)&&(s[n]=e[n]);return s}var z=u.exports.forwardRef(function(e,a){var s=e.color,l=s===void 0?"currentColor":s,n=e.size,r=n===void 0?24:n,d=ge(e,["color","size"]);return c("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[t("polyline",{points:"21 8 21 21 3 21 3 8"}),t("rect",{x:"1",y:"3",width:"22",height:"5"}),t("line",{x1:"10",y1:"12",x2:"14",y2:"12"})]})});z.propTypes={color:o.exports.string,size:o.exports.oneOfType([o.exports.string,o.exports.number])};z.displayName="Archive";const be=z;function ye(e,a){if(e==null)return{};var s=Ne(e,a),l,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)l=r[n],!(a.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,l)||(s[l]=e[l]))}return s}function Ne(e,a){if(e==null)return{};var s={},l=Object.keys(e),n,r;for(r=0;r<l.length;r++)n=l[r],!(a.indexOf(n)>=0)&&(s[n]=e[n]);return s}var T=u.exports.forwardRef(function(e,a){var s=e.color,l=s===void 0?"currentColor":s,n=e.size,r=n===void 0?24:n,d=ye(e,["color","size"]);return c("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t("polyline",{points:"14 2 14 8 20 8"}),t("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t("polyline",{points:"10 9 9 9 8 9"})]})});T.propTypes={color:o.exports.string,size:o.exports.oneOfType([o.exports.string,o.exports.number])};T.displayName="FileText";const G=T;function we(e,a){if(e==null)return{};var s=Ce(e,a),l,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)l=r[n],!(a.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,l)||(s[l]=e[l]))}return s}function Ce(e,a){if(e==null)return{};var s={},l=Object.keys(e),n,r;for(r=0;r<l.length;r++)n=l[r],!(a.indexOf(n)>=0)&&(s[n]=e[n]);return s}var $=u.exports.forwardRef(function(e,a){var s=e.color,l=s===void 0?"currentColor":s,n=e.size,r=n===void 0?24:n,d=we(e,["color","size"]);return c("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[t("circle",{cx:"12",cy:"12",r:"1"}),t("circle",{cx:"12",cy:"5",r:"1"}),t("circle",{cx:"12",cy:"19",r:"1"})]})});$.propTypes={color:o.exports.string,size:o.exports.oneOfType([o.exports.string,o.exports.number])};$.displayName="MoreVertical";const Oe=$;function Se(e,a){if(e==null)return{};var s=ke(e,a),l,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)l=r[n],!(a.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,l)||(s[l]=e[l]))}return s}function ke(e,a){if(e==null)return{};var s={},l=Object.keys(e),n,r;for(r=0;r<l.length;r++)n=l[r],!(a.indexOf(n)>=0)&&(s[n]=e[n]);return s}var A=u.exports.forwardRef(function(e,a){var s=e.color,l=s===void 0?"currentColor":s,n=e.size,r=n===void 0?24:n,d=Se(e,["color","size"]);return c("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[t("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),t("polyline",{points:"16 6 12 2 8 6"}),t("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]})});A.propTypes={color:o.exports.string,size:o.exports.oneOfType([o.exports.string,o.exports.number])};A.displayName="Share";const Pe=A;function je(e,a){if(e==null)return{};var s=ze(e,a),l,n;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)l=r[n],!(a.indexOf(l)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,l)||(s[l]=e[l]))}return s}function ze(e,a){if(e==null)return{};var s={},l=Object.keys(e),n,r;for(r=0;r<l.length;r++)n=l[r],!(a.indexOf(n)>=0)&&(s[n]=e[n]);return s}var L=u.exports.forwardRef(function(e,a){var s=e.color,l=s===void 0?"currentColor":s,n=e.size,r=n===void 0?24:n,d=je(e,["color","size"]);return c("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...d,children:[t("polyline",{points:"3 6 5 6 21 6"}),t("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),t("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),t("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})});L.propTypes={color:o.exports.string,size:o.exports.oneOfType([o.exports.string,o.exports.number])};L.displayName="Trash2";const Te=L;o.exports.string,o.exports.string,o.exports.bool.isRequired,o.exports.string.isRequired,o.exports.string,o.exports.string,o.exports.any.isRequired,o.exports.oneOf(["sm","lg"]),o.exports.func.isRequired,o.exports.oneOfType([o.exports.number,o.exports.string]);const $e=e=>{var a;return(a=e==null?void 0:e.avatar)!=null&&a.length?t(E,{className:"me-1",img:e.avatar,width:"32",height:"32"}):t(E,{initials:!0,className:"me-1",color:e.avatarColor||"light-primary",content:e.fullName||"John Doe"})},B={pending:"light-warning",active:"light-success",inactive:"light-secondary"},Ae=[{name:"User",sortable:!0,minWidth:"300px",sortField:"fullName",selector:e=>e.firstName+e.lastName,cell:e=>c("div",{className:"d-flex justify-content-left align-items-center",children:[$e(e),c("div",{className:"d-flex flex-column",children:[t(F,{to:`/user/view/${e.id}`,className:"user_name text-truncate text-body",children:c("span",{className:"fw-bolder",children:[e.firstName," ",e.lastName]})}),t("small",{className:"text-truncate text-muted mb-0",children:e.email})]})]})},{name:"User Status",sortable:!0,minWidth:"130px",sortField:"userStatus",selector:e=>e.userStatus,cell:e=>t(M,{className:"text-capitalize d-flex flex-column",color:B[e.createdAt],pill:!0,children:t("span",{className:"text-capitalize",children:e.userStatus})})},{name:"Plan",minWidth:"135px",sortable:!0,sortField:"currentPlan",selector:e=>e.plan,cell:e=>t("span",{className:"text-capitalize",children:e.plan})},{name:"Subscription Status",minWidth:"140px",sortable:!0,sortField:"subscription",selector:e=>e.subscriptionStatus,cell:e=>t(M,{className:"text-capitalize d-flex flex-column",color:B[e.createdAt],pill:!0,children:t("span",{className:"text-capitalize",children:e.subscriptionStatus})})},{name:"Created At",minWidth:"140px",sortable:!0,sortField:"createdAt",selector:e=>e.createdAt,cell:e=>c("div",{className:"text-capitalize d-flex flex-column",children:[t("span",{children:_(e.createdAt).format("MM/DD/YY")}),t("smal",{children:_(e.createdAt).format("hh:mm A")})]})},{name:"Actions",minWidth:"100px",cell:e=>t("div",{className:"column-action",children:c(H,{children:[t(q,{tag:"div",className:"btn btn-sm",children:t(Oe,{size:14,className:"cursor-pointer"})}),c(Q,{children:[c(C,{tag:F,className:"w-100",to:`/user/view/${e.id}`,children:[t(G,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"Details"})]}),c(C,{tag:"a",href:"/",className:"w-100",onClick:a=>a.preventDefault(),children:[t(be,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"Edit"})]}),c(C,{tag:"a",href:"/",className:"w-100",onClick:a=>{a.preventDefault()},children:[t(Te,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"Delete"})]})]})]})})}],Le=({store:e,handlePerPage:a,rowsPerPage:s,handleFilter:l,searchTerm:n})=>{function r(h){let m;const p=",",x=`
`,v=Object.keys(e[0]);return m="",m+=v.join(p),m+=x,h.forEach(y=>{let g=0;v.forEach(N=>{g>0&&(m+=p),m+=y[N],g++}),m+=x}),m}function d(h){const m=document.createElement("a");let p=r(h);if(p===null)return;const x="export.csv";p.match(/^data:text\/csv/i)||(p=`data:text/csv;charset=utf-8,${p}`),m.setAttribute("href",encodeURI(p)),m.setAttribute("download",x),m.click()}return t("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:c(j,{children:[t(b,{xl:"6",className:"d-flex align-items-center p-0",children:c("div",{className:"d-flex align-items-center w-100",children:[t("label",{htmlFor:"rows-per-page",children:"Show"}),c(I,{className:"mx-50",type:"select",id:"rows-per-page",value:s,onChange:a,style:{width:"5rem"},children:[t("option",{value:"10",children:"10"}),t("option",{value:"25",children:"25"}),t("option",{value:"50",children:"50"})]}),t("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),c(b,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[c("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[t("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),t(I,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:n,onChange:h=>l(h.target.value)})]}),t("div",{className:"d-flex align-items-center table-header-actions",children:c(H,{className:"me-1",children:[c(q,{color:"secondary",caret:!0,outline:!0,children:[t(Pe,{className:"font-small-4 me-50"}),t("span",{className:"align-middle",children:"Export"})]}),t(Q,{children:c(C,{className:"w-100",onClick:()=>d(e),children:[t(G,{className:"font-small-4 me-50"}),t("span",{className:"align-middle",children:"CSV"})]})})]})})]})]})})},We=({allUserData:e,total:a})=>{const s=Y(),[l,n]=u.exports.useState("desc"),[r,d]=u.exports.useState(""),[h,m]=u.exports.useState(1),[p,x]=u.exports.useState(10),[v,y]=u.exports.useState({value:"",label:"Select Status"}),[g,N]=u.exports.useState({value:"",label:"Select Plan"}),[w,W]=u.exports.useState({value:"",label:"Select Status",number:0});u.exports.useEffect(()=>{let i={page:h,plan:g.value,subStatus:v.value,status:w.value,limit:p,keyword:r};s(J(i))},[s,h,g,v,p,r,w]);const K=[{value:"",label:"All"},{value:"active",label:"Active"},{value:"cancel",label:"Cancelled"}],D=[{value:"",label:"All"},{value:"Creator Monthly Plan",label:"Creator Monthly Plan"},{value:"Agency Monthly Plan",label:"Agency Monthly Plan"},{value:"Company Monthly Plan",label:"Company Monthly Plan"},{value:"Free Trial",label:"Free Trial"}],U=[{value:"",label:"All",number:0},{value:"banned",label:"Banned",number:1},{value:"active",label:"Active",number:2},{value:"inactive",label:"Inactive",number:3},{value:"deactivated",label:"Deactivated",number:4}],ee=i=>{m(i.selected+1)},te=i=>{const f=parseInt(i.currentTarget.value);x(f)},re=i=>{d(i)},ne=()=>{const i=Number(Math.ceil(a/p));return t(he,{previousLabel:"",nextLabel:"",pageCount:i||1,activeClassName:"active",forcePage:h!==0?h-1:0,onPageChange:f=>ee(f),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},le=()=>{const i={role:v.value,currentPlan:g.value,status:w.value,q:r},f=Object.keys(i).some(function(ce){var R;return((R=i[ce])==null?void 0:R.length)>0});return(e==null?void 0:e.length)>0&&!f?e:(e==null?void 0:e.length)===0&&f?[]:e==null?void 0:e.slice(0,p)},ae=(i,f)=>{n(f)},se=i=>{!i||(i.value!==""&&i.label?y({label:i.label,value:i.value}):y({label:i.value,value:i.value}))},ie=i=>{!i||(i.value!==""&&i.label?N({label:i.label,value:i.value}):N({label:i.value,value:i.value}))},oe=i=>{!i||(i.value!==""&&i.label?W({label:i.label,value:i.value}):W({label:i.value,value:i.value}))};return c(u.exports.Fragment,{children:[c(P,{children:[t(X,{children:t(de,{tag:"h4",children:"Filters"})}),t(Z,{children:c(j,{children:[c(b,{md:"4",children:[t(O,{for:"role-select",children:"Subscription Status"}),t(k,{isClearable:!1,value:v||"",options:K,className:"react-select",classNamePrefix:"select",theme:S,onChange:se})]}),c(b,{className:"my-md-0 my-1",md:"4",children:[t(O,{for:"plan-select",children:"Plan"}),t(k,{theme:S,isClearable:!1,className:"react-select",classNamePrefix:"select",options:D,value:g||"",onChange:ie})]}),c(b,{md:"4",children:[t(O,{for:"status-select",children:"User Status"}),t(k,{theme:S,isClearable:!1,className:"react-select",classNamePrefix:"select",options:U,value:w||"",onChange:oe})]})]})})]}),t(P,{className:"overflow-hidden",children:t("div",{className:"react-dataTable",children:t(pe,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:Ae,onSort:ae,sortIcon:t(me,{}),className:"react-dataTable",paginationComponent:ne,data:le(),subHeaderComponent:t(Le,{store:e,searchTerm:r,rowsPerPage:p,handleFilter:re,handlePerPage:te})})})})]})},Ie=()=>{var n;const e=Y(),{allUserData:a,allUserDataLoading:s,allUserDataError:l}=ue(r=>r.user);return u.exports.useEffect(()=>{e(J())},[]),c("div",{className:"app-user-list",children:[c(P,{children:[t(X,{children:t("h5",{children:"User Count"})}),t(Z,{children:t(j,{children:(n=a==null?void 0:a.stats)==null?void 0:n.map(r=>{let d=null;return r.title==="Total Users"?d=t(V,{size:15}):r.title==="Active Users"?d=t(ve,{size:15}):d=t(V,{size:15}),t(b,{lg:"4",sm:"6",children:t(fe,{className:"shadow-lg",statTitle:r==null?void 0:r.title,icon:d,renderStats:t("h3",{className:"fw-bolder mb-75",children:r==null?void 0:r.count})})})})})})]}),t(We,{allUserData:a==null?void 0:a.data,total:a==null?void 0:a.total})]})};export{Ie as default};
