import{r as h,d as o,j as t,p as m,M as we,o as j,v as Ce,P as Se,w as Pe,X as ke,h as E,x as Oe,L as N,I as y,y as z,z as M,A as je,D as $,E as D,m as G,U as te,G as re,H as se,J as R,K,i as le,O as A,C as W,e as ae,Q as ze,l as ne,R as I,n as P,S as L,s as F,V as Ae,W as Te,Y as $e}from"./index.36c28899.js";import{u as Le,C as S}from"./index.esm.fa0e2d1c.js";import{S as Fe,a as U,A as Me}from"./ActiveUser.ff8d590e.js";/* empty css                  */function Re(e,a){if(e==null)return{};var n=We(e,a),s,l;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)s=r[l],!(a.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,s)||(n[s]=e[s]))}return n}function We(e,a){if(e==null)return{};var n={},s=Object.keys(e),l,r;for(r=0;r<s.length;r++)l=s[r],!(a.indexOf(l)>=0)&&(n[l]=e[l]);return n}var B=h.exports.forwardRef(function(e,a){var n=e.color,s=n===void 0?"currentColor":n,l=e.size,r=l===void 0?24:l,p=Re(e,["color","size"]);return o("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...p,children:[t("polyline",{points:"21 8 21 21 3 21 3 8"}),t("rect",{x:"1",y:"3",width:"22",height:"5"}),t("line",{x1:"10",y1:"12",x2:"14",y2:"12"})]})});B.propTypes={color:m.exports.string,size:m.exports.oneOfType([m.exports.string,m.exports.number])};B.displayName="Archive";const Ee=B;function Ie(e,a){if(e==null)return{};var n=Be(e,a),s,l;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)s=r[l],!(a.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,s)||(n[s]=e[s]))}return n}function Be(e,a){if(e==null)return{};var n={},s=Object.keys(e),l,r;for(r=0;r<s.length;r++)l=s[r],!(a.indexOf(l)>=0)&&(n[l]=e[l]);return n}var V=h.exports.forwardRef(function(e,a){var n=e.color,s=n===void 0?"currentColor":n,l=e.size,r=l===void 0?24:l,p=Ie(e,["color","size"]);return o("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...p,children:[t("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),t("polyline",{points:"14 2 14 8 20 8"}),t("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),t("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),t("polyline",{points:"10 9 9 9 8 9"})]})});V.propTypes={color:m.exports.string,size:m.exports.oneOfType([m.exports.string,m.exports.number])};V.displayName="FileText";const ie=V;function Ve(e,a){if(e==null)return{};var n=_e(e,a),s,l;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)s=r[l],!(a.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,s)||(n[s]=e[s]))}return n}function _e(e,a){if(e==null)return{};var n={},s=Object.keys(e),l,r;for(r=0;r<s.length;r++)l=s[r],!(a.indexOf(l)>=0)&&(n[l]=e[l]);return n}var _=h.exports.forwardRef(function(e,a){var n=e.color,s=n===void 0?"currentColor":n,l=e.size,r=l===void 0?24:l,p=Ve(e,["color","size"]);return o("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...p,children:[t("circle",{cx:"12",cy:"12",r:"1"}),t("circle",{cx:"12",cy:"5",r:"1"}),t("circle",{cx:"12",cy:"19",r:"1"})]})});_.propTypes={color:m.exports.string,size:m.exports.oneOfType([m.exports.string,m.exports.number])};_.displayName="MoreVertical";const He=_;function qe(e,a){if(e==null)return{};var n=Ye(e,a),s,l;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)s=r[l],!(a.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,s)||(n[s]=e[s]))}return n}function Ye(e,a){if(e==null)return{};var n={},s=Object.keys(e),l,r;for(r=0;r<s.length;r++)l=s[r],!(a.indexOf(l)>=0)&&(n[l]=e[l]);return n}var H=h.exports.forwardRef(function(e,a){var n=e.color,s=n===void 0?"currentColor":n,l=e.size,r=l===void 0?24:l,p=qe(e,["color","size"]);return o("svg",{ref:a,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...p,children:[t("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),t("polyline",{points:"16 6 12 2 8 6"}),t("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]})});H.propTypes={color:m.exports.string,size:m.exports.oneOfType([m.exports.string,m.exports.number])};H.displayName="Share";const Ze=H,oe=e=>{const{open:a,size:n,title:s,width:l,children:r,closeBtn:p,className:u,toggleSidebar:b,bodyClassName:f,contentClassName:c,wrapperClassName:g,headerClassName:x,...d}=e,C=p||t(ke,{className:"cursor-pointer",size:15,onClick:b});return o(we,{isOpen:a,toggle:b,contentClassName:j("overflow-hidden",{[c]:c}),modalClassName:j("modal-slide-in",{[g]:g}),className:j({[u]:u,"sidebar-lg":n==="lg","sidebar-sm":n==="sm"}),...l!==void 0?{style:{width:String(l)+"px"}}:{},...d,children:[t(Ce,{className:j({[x]:x}),toggle:b,close:C,tag:"div",children:t("h5",{className:"modal-title",children:t("span",{className:"align-middle",children:s})})}),t(Se,{options:{wheelPropagation:!1},children:t(Pe,{className:j("flex-grow-1",{[f]:f}),children:r})})]})};oe.propTypes={className:m.exports.string,bodyClassName:m.exports.string,open:m.exports.bool.isRequired,title:m.exports.string.isRequired,contentClassName:m.exports.string,wrapperClassName:m.exports.string,children:m.exports.any.isRequired,size:m.exports.oneOf(["sm","lg"]),toggleSidebar:m.exports.func.isRequired,width:m.exports.oneOfType([m.exports.number,m.exports.string])};const X={email:"",firstName:"",lastName:"",userName:"",password:"",phoneNumber:""},Je=(e,a,n)=>{for(const s in e)if(typeof e[s]=="object"){if(e[s]===null)return!1}else if(typeof e[s]=="string"&&(e[s].length===0||s==="password"&&(!a.test(e[s])||e[s].length<8)||s==="phoneNumber"&&(e[s].length<10||e[s].length>16)||s==="email"&&!n.test(e[s])))return!1;return!0},Qe=({open:e,toggleSidebar:a})=>{const n=E(),{control:s,setValue:l,setError:r,handleSubmit:p,formState:{errors:u}}=Le({defaultValues:X});return t(oe,{size:"lg",open:e,title:"New User",headerClassName:"mb-1",contentClassName:"pt-0",toggleSidebar:a,onClosed:()=>{for(const c in X)l(c,"")},children:o(Oe,{onSubmit:p(c=>{const g=/^(?=.*[a-zA-Z])(?=.*\d).{8,}$/,x=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;if(Je(c,g,x))n(je(c));else for(const d in c)c[d]===null&&r(d,{type:"manual"}),c[d]!==null&&c[d].length===0&&r(d,{type:"manual"}),d==="password"&&!g.test(c[d])&&r(d,{type:"Password must contain letters, numbers & periods"}),d==="password"&&c[d].length<8&&r(d,{type:"Password should be 8 characters or more"}),d==="phoneNumber"&&(c[d].length<10||c[d].length>16)&&r(d,{type:"Please check your contact number"}),d==="email"&&!x.test(c[d])&&r(d,{type:"manual"})}),children:[o("div",{className:"mb-1",children:[o(N,{className:"form-label",for:"userName",children:["Username ",t("span",{className:"text-danger",children:"*"})]}),t(S,{name:"userName",control:s,render:({field:c})=>t(y,{id:"userName",placeholder:"johnDoe99",invalid:u.userName&&!0,...c})})]}),o("div",{className:"mb-1",children:[o(N,{className:"form-label",for:"firstName",children:["First Name ",t("span",{className:"text-danger",children:"*"})]}),t(S,{name:"firstName",control:s,render:({field:c})=>t(y,{id:"firstName",placeholder:"John",invalid:u.firstName&&!0,...c})})]}),o("div",{className:"mb-1",children:[o(N,{className:"form-label",for:"lastName",children:["Last Name ",t("span",{className:"text-danger",children:"*"})]}),t(S,{name:"lastName",control:s,render:({field:c})=>t(y,{id:"lastName",placeholder:"Doe",invalid:u.lastName&&!0,...c})})]}),o("div",{className:"mb-1",children:[o(N,{className:"form-label",for:"email",children:["Email ",t("span",{className:"text-danger",children:"*"})]}),t(S,{name:"email",control:s,render:({field:c})=>t(y,{type:"email",id:"userEmail",placeholder:"john.doe@example.com",invalid:u.email&&!0,...c})}),u.email&&t(z,{color:"danger",children:u.email.type})]}),o("div",{className:"mb-1",children:[o(N,{className:"form-label",for:"password",children:["Password ",t("span",{className:"text-danger",children:"*"})]}),t(S,{name:"password",control:s,render:({field:c})=>t(y,{type:"password",id:"password",placeholder:"********",invalid:u.password&&!0,...c})}),u.password?t(z,{color:"danger",children:u.password.type}):t(z,{color:"muted",children:"You can use letters, numbers & periods"})]}),o("div",{className:"mb-1",children:[o(N,{className:"form-label",for:"phoneNumber",children:["Contact ",t("span",{className:"text-danger",children:"*"})]}),t(S,{name:"phoneNumber",control:s,render:({field:c})=>t(y,{id:"phoneNumber",placeholder:"(397) 294-5153",invalid:u.phoneNumber&&!0,...c})}),u.phoneNumber&&t(z,{color:"danger",children:u.phoneNumber.type})]}),t(M,{type:"submit",className:"me-1",color:"primary",children:"ADD"}),t(M,{type:"reset",color:"secondary",outline:!0,onClick:a,children:"Cancel"})]})})},De=e=>{var a;return(a=e==null?void 0:e.avatar)!=null&&a.length?t(K,{className:"me-1",img:e.avatar,width:"32",height:"32"}):t(K,{initials:!0,className:"me-1",color:e.avatarColor||"light-primary",content:e.fullName||"John Doe"})},ee={active:"light-success",deactivated:"light-warning",inactive:"light-secondary",banned:"light-danger"},Ge=[{name:"User",sortable:!0,minWidth:"300px",sortField:"fullName",selector:e=>e.firstName+e.lastName,cell:e=>o("div",{className:"d-flex justify-content-left align-items-center",children:[De(e),o("div",{className:"d-flex flex-column",children:[t($,{to:`/user/view/${e.id}`,className:"user_name text-truncate text-body",children:o("span",{className:"fw-bolder",children:[e.firstName," ",e.lastName]})}),t("small",{className:"text-truncate text-muted mb-0",children:e.email})]})]})},{name:"User Status",sortable:!0,minWidth:"130px",sortField:"userStatus",selector:e=>e.userStatus,cell:e=>t(D,{className:"text-capitalize d-flex flex-column",color:ee[e.userStatus],pill:!0,children:t("span",{className:"text-capitalize",children:e.userStatus})})},{name:"Plan",minWidth:"135px",sortable:!0,sortField:"currentPlan",selector:e=>e.plan,cell:e=>t("span",{className:"text-capitalize",children:e.plan})},{name:"Subscription Status",minWidth:"140px",sortable:!0,sortField:"subscription",selector:e=>e.subscriptionStatus,cell:e=>t(D,{className:"text-capitalize d-flex flex-column",color:ee[e.subscriptionStatus],pill:!0,children:t("span",{className:"text-capitalize",children:e.subscriptionStatus})})},{name:"Created At",minWidth:"140px",sortable:!0,sortField:"createdAt",selector:e=>e.createdAt,cell:e=>o("div",{className:"text-capitalize d-flex flex-column",children:[t("span",{children:G(e.createdAt).format("MM/DD/YY")}),t("smal",{children:G(e.createdAt).format("hh:mm A")})]})},{name:"Actions",minWidth:"100px",cell:e=>t("div",{className:"column-action",children:o(te,{children:[t(re,{tag:"div",className:"btn btn-sm",children:t(He,{size:14,className:"cursor-pointer"})}),o(se,{children:[o(R,{tag:$,className:"w-100",to:`/user/view/${e.id}`,children:[t(ie,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"Details"})]}),o(R,{tag:$,to:`/user/view/${e.id}&edit=true`,className:"w-100",children:[t(Ee,{size:14,className:"me-50"}),t("span",{className:"align-middle",children:"Edit"})]})]})]})})}],Ke=({store:e,toggleSidebar:a,handlePerPage:n,rowsPerPage:s,handleFilter:l,searchTerm:r})=>{function p(b){let f;const c=",",g=`
`,x=Object.keys(e[0]);return f="",f+=x.join(c),f+=g,b.forEach(d=>{let C=0;x.forEach(w=>{C>0&&(f+=c),f+=d[w],C++}),f+=g}),f}function u(b){const f=document.createElement("a");let c=p(b);if(c===null)return;const g="export.csv";c.match(/^data:text\/csv/i)||(c=`data:text/csv;charset=utf-8,${c}`),f.setAttribute("href",encodeURI(c)),f.setAttribute("download",g),f.click()}return t("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:o(I,{children:[t(P,{xl:"6",className:"d-flex align-items-center p-0",children:o("div",{className:"d-flex align-items-center w-100",children:[t("label",{htmlFor:"rows-per-page",children:"Show"}),o(y,{className:"mx-50",type:"select",id:"rows-per-page",value:s,onChange:n,style:{width:"5rem"},children:[t("option",{value:"10",children:"10"}),t("option",{value:"25",children:"25"}),t("option",{value:"50",children:"50"})]}),t("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),o(P,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[o("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[t("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),t(y,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:r,onChange:b=>l(b.target.value)})]}),o("div",{className:"d-flex align-items-center table-header-actions",children:[o(te,{className:"me-1",children:[o(re,{color:"secondary",caret:!0,outline:!0,children:[t(Ze,{className:"font-small-4 me-50"}),t("span",{className:"align-middle",children:"Export"})]}),t(se,{children:o(R,{className:"w-100",onClick:()=>u(e),children:[t(ie,{className:"font-small-4 me-50"}),t("span",{className:"align-middle",children:"CSV"})]})})]}),t(M,{className:"add-new-user",color:"primary",onClick:a,children:"Add New User"})]})]})]})})},Ue=({allUserData:e,total:a})=>{const n=E(),[s,l]=h.exports.useState("desc"),[r,p]=h.exports.useState(""),[u,b]=h.exports.useState(1),[f,c]=h.exports.useState("id"),[g,x]=h.exports.useState(!1),[d,C]=h.exports.useState(10),[w,q]=h.exports.useState({value:"",label:"All"}),[k,Y]=h.exports.useState({value:"",label:"All"}),[O,Z]=h.exports.useState({value:"",label:"All",number:0}),{newUserData:J}=le(i=>i.user),T=()=>x(!g);h.exports.useEffect(()=>{let i,v={page:u,plan:k.value,subStatus:w.value,status:O.value,limit:d,keyword:r};return r?i=setTimeout(()=>{n(A(v))},3e3):i=setTimeout(()=>{n(A(v))},100),J&&(T(),i=setTimeout(()=>{n(A(v))},1e3)),()=>{clearTimeout(i)}},[n,u,k,w,d,r,O,J]),h.exports.useEffect(()=>{b(1)},[k,w,O]);const ce=[{value:"",label:"All"},{value:"active",label:"Active"},{value:"cancel",label:"Cancelled"}],de=[{value:"",label:"All"},{value:"Creator Monthly Plan",label:"Creator Monthly Plan"},{value:"Agency Monthly Plan",label:"Agency Monthly Plan"},{value:"Company Monthly Plan",label:"Company Monthly Plan"},{value:"Free Trial",label:"Free Trial"}],me=[{value:"",label:"All",number:0},{value:"banned",label:"Banned",number:1},{value:"active",label:"Active",number:2},{value:"inactive",label:"Inactive",number:3},{value:"deactivated",label:"Deactivated",number:4}],ue=i=>{b(i.selected+1)},pe=i=>{const v=parseInt(i.currentTarget.value);C(v)},he=i=>{p(i)},fe=()=>{const i=Number(Math.ceil(a/d));return t($e,{previousLabel:"",nextLabel:"",pageCount:i||1,activeClassName:"active",forcePage:u!==0?u-1:0,onPageChange:v=>ue(v),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},be=()=>{const i={role:w.value,currentPlan:k.value,status:O.value,q:r},v=Object.keys(i).some(function(ye){var Q;return((Q=i[ye])==null?void 0:Q.length)>0});return(e==null?void 0:e.length)>0&&!v?e:(e==null?void 0:e.length)===0&&v?[]:e==null?void 0:e.slice(0,d)},ge=(i,v)=>{l(v),c(i.sortField)},ve=i=>{!i||(i.value!==""&&i.label?q({label:i.label,value:i.value}):q({label:i.label,value:i.value}))},xe=i=>{!i||(i.value!==""&&i.label?Y({label:i.label,value:i.value}):Y({label:i.label,value:i.value}))},Ne=i=>{!i||(i.value!==""&&i.label?Z({label:i.label,value:i.value}):Z({label:i.label,value:i.value}))};return o(h.exports.Fragment,{children:[o(W,{children:[t(ae,{children:t(ze,{tag:"h4",children:"Filters"})}),t(ne,{children:o(I,{children:[o(P,{md:"4",children:[t(N,{for:"role-select",children:"Subscription Status"}),t(L,{isClearable:!1,value:w||"",options:ce,className:"react-select",classNamePrefix:"select",theme:F,onChange:ve})]}),o(P,{className:"my-md-0 my-1",md:"4",children:[t(N,{for:"plan-select",children:"Plan"}),t(L,{theme:F,isClearable:!1,className:"react-select",classNamePrefix:"select",options:de,value:k||"",onChange:xe})]}),o(P,{md:"4",children:[t(N,{for:"status-select",children:"User Status"}),t(L,{theme:F,isClearable:!1,className:"react-select",classNamePrefix:"select",options:me,value:O||"",onChange:Ne})]})]})})]}),t(W,{className:"overflow-hidden",children:t("div",{className:"react-dataTable",children:t(Ae,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:Ge,onSort:ge,sortIcon:t(Te,{}),className:"react-dataTable",paginationComponent:fe,data:be(),subHeaderComponent:t(Ke,{store:e,searchTerm:r,rowsPerPage:d,handleFilter:he,handlePerPage:pe,toggleSidebar:T})})})}),t(Qe,{open:g,toggleSidebar:T})]})},st=()=>{var l;const e=E(),{allUserData:a,allUserDataLoading:n,allUserDataError:s}=le(r=>r.user);return h.exports.useEffect(()=>{e(A())},[]),o("div",{className:"app-user-list",children:[o(W,{children:[t(ae,{children:t("h5",{children:"User Stats"})}),t(ne,{children:t(I,{children:(l=a==null?void 0:a.stats)==null?void 0:l.map(r=>{let p=null;return r.title==="Total Users"?p=t(U,{size:15}):r.title==="Active Users"?p=t(Me,{size:15}):p=t(U,{size:15}),t(P,{lg:"4",sm:"6",children:t(Fe,{className:"shadow-lg",statTitle:r==null?void 0:r.title,icon:p,renderStats:t("h3",{className:"fw-bolder mb-75",children:r==null?void 0:r.count})})})})})})]}),t(Ue,{allUserData:a==null?void 0:a.data,total:a==null?void 0:a.total})]})};export{st as default};
