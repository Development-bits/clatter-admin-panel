import{r as u,d as l,j as e,p as k,h as R,v as Ne,w as ve,x as ge,L as v,y as C,I as g,z,A as L,D as xe,E as F,G as _,m as J,U as K,H as U,M as ye,J as X,K as $,O as ee,P as Ce,Q,i as te,V as j,C as M,e as ae,W as Se,l as le,R as I,n as S,S as O,s as E,X as we,Y as Pe,Z as Ae}from"./index.b05b8146.js";import{S as ke,a as q,A as ze}from"./ActiveUser.ac310c4b.js";/* empty css                  */function je(t,i){if(t==null)return{};var d=Te(t,i),n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)n=s[o],!(i.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,n)||(d[n]=t[n]))}return d}function Te(t,i){if(t==null)return{};var d={},n=Object.keys(t),o,s;for(s=0;s<n.length;s++)o=n[s],!(i.indexOf(o)>=0)&&(d[o]=t[o]);return d}var W=u.exports.forwardRef(function(t,i){var d=t.color,n=d===void 0?"currentColor":d,o=t.size,s=o===void 0?24:o,p=je(t,["color","size"]);return l("svg",{ref:i,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...p,children:[e("path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8"}),e("polyline",{points:"16 6 12 2 8 6"}),e("line",{x1:"12",y1:"2",x2:"12",y2:"15"})]})});W.propTypes={color:k.exports.string,size:k.exports.oneOfType([k.exports.string,k.exports.number])};W.displayName="Share";const Fe=W,D={email:"",firstName:"",lastName:"",userName:"",password:"",phoneNumber:""},Oe=(t,i,d)=>{for(const n in t)if(typeof t[n]=="object"){if(t[n]===null)return!1}else if(typeof t[n]=="string"&&(t[n].length===0||n==="password"&&(!i.test(t[n])||t[n].length<8)||n==="phoneNumber"&&(t[n].length<10||t[n].length>16)||n==="email"&&!d.test(t[n])))return!1;return!0},Ee=({open:t,toggleSidebar:i})=>{const d=R(),{control:n,setValue:o,setError:s,handleSubmit:p,formState:{errors:m}}=Ne({defaultValues:D});return e(ve,{size:"lg",open:t,title:"New User",headerClassName:"mb-1",contentClassName:"pt-0",toggleSidebar:i,onClosed:()=>{for(const r in D)o(r,"")},children:l(ge,{onSubmit:p(r=>{const b=/^(?=.*[a-zA-Z])(?=.*\d).{8,}$/,x=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;if(Oe(r,b,x))d(xe(r));else for(const c in r)r[c]===null&&s(c,{type:"manual"}),r[c]!==null&&r[c].length===0&&s(c,{type:"manual"}),c==="password"&&!b.test(r[c])&&s(c,{type:"Password must contain letters, numbers & periods"}),c==="password"&&r[c].length<8&&s(c,{type:"Password should be 8 characters or more"}),c==="phoneNumber"&&(r[c].length<10||r[c].length>16)&&s(c,{type:"Please check your contact number"}),c==="email"&&!x.test(r[c])&&s(c,{type:"manual"})}),children:[l("div",{className:"mb-1",children:[l(v,{className:"form-label",for:"userName",children:["Username ",e("span",{className:"text-danger",children:"*"})]}),e(C,{name:"userName",control:n,render:({field:r})=>e(g,{id:"userName",placeholder:"johnDoe99",invalid:m.userName&&!0,...r})})]}),l("div",{className:"mb-1",children:[l(v,{className:"form-label",for:"firstName",children:["First Name ",e("span",{className:"text-danger",children:"*"})]}),e(C,{name:"firstName",control:n,render:({field:r})=>e(g,{id:"firstName",placeholder:"John",invalid:m.firstName&&!0,...r})})]}),l("div",{className:"mb-1",children:[l(v,{className:"form-label",for:"lastName",children:["Last Name ",e("span",{className:"text-danger",children:"*"})]}),e(C,{name:"lastName",control:n,render:({field:r})=>e(g,{id:"lastName",placeholder:"Doe",invalid:m.lastName&&!0,...r})})]}),l("div",{className:"mb-1",children:[l(v,{className:"form-label",for:"email",children:["Email ",e("span",{className:"text-danger",children:"*"})]}),e(C,{name:"email",control:n,render:({field:r})=>e(g,{type:"email",id:"userEmail",placeholder:"john.doe@example.com",invalid:m.email&&!0,...r})}),m.email&&e(z,{color:"danger",children:m.email.type})]}),l("div",{className:"mb-1",children:[l(v,{className:"form-label",for:"password",children:["Password ",e("span",{className:"text-danger",children:"*"})]}),e(C,{name:"password",control:n,render:({field:r})=>e(g,{type:"password",id:"password",placeholder:"********",invalid:m.password&&!0,...r})}),m.password?e(z,{color:"danger",children:m.password.type}):e(z,{color:"muted",children:"You can use letters, numbers & periods"})]}),l("div",{className:"mb-1",children:[l(v,{className:"form-label",for:"phoneNumber",children:["Contact ",e("span",{className:"text-danger",children:"*"})]}),e(C,{name:"phoneNumber",control:n,render:({field:r})=>e(g,{id:"phoneNumber",placeholder:"(397) 294-5153",invalid:m.phoneNumber&&!0,...r})}),m.phoneNumber&&e(z,{color:"danger",children:m.phoneNumber.type})]}),e(L,{type:"submit",className:"me-1",color:"primary",children:"ADD"}),e(L,{type:"reset",color:"secondary",outline:!0,onClick:i,children:"Cancel"})]})})},Le=t=>{var i;return(i=t==null?void 0:t.avatar)!=null&&i.length?e(Q,{className:"me-1",img:t.avatar,width:"32",height:"32"}):e(Q,{initials:!0,className:"me-1",color:t.avatarColor||"light-primary",content:t.fullName||"John Doe"})},G={active:"light-success",deactivated:"light-warning",inactive:"light-secondary",banned:"light-danger"},$e=[{name:"User",sortable:!0,minWidth:"300px",sortField:"fullName",selector:t=>t.firstName+t.lastName,cell:t=>l("div",{className:"d-flex justify-content-left align-items-center",children:[Le(t),l("div",{className:"d-flex flex-column",children:[e(F,{to:`/user/view/${t.id}`,className:"user_name text-truncate text-body",children:l("span",{className:"fw-bolder",children:[t.firstName," ",t.lastName]})}),e("small",{className:"text-truncate text-muted mb-0",children:t.email})]})]})},{name:"User Status",sortable:!0,minWidth:"130px",sortField:"userStatus",selector:t=>t.userStatus,cell:t=>e(_,{className:"text-capitalize d-flex flex-column",color:G[t.userStatus],pill:!0,children:e("span",{className:"text-capitalize",children:t.userStatus})})},{name:"Plan",minWidth:"135px",sortable:!0,sortField:"currentPlan",selector:t=>t.plan,cell:t=>e("span",{className:"text-capitalize",children:t.plan})},{name:"Subscription Status",minWidth:"140px",sortable:!0,sortField:"subscription",selector:t=>t.subscriptionStatus,cell:t=>e(_,{className:"text-capitalize d-flex flex-column",color:G[t.subscriptionStatus],pill:!0,children:e("span",{className:"text-capitalize",children:t.subscriptionStatus})})},{name:"Created At",minWidth:"140px",sortable:!0,sortField:"createdAt",selector:t=>t.createdAt,cell:t=>l("div",{className:"text-capitalize d-flex flex-column",children:[e("span",{children:J(t.createdAt).format("MM/DD/YY")}),e("smal",{children:J(t.createdAt).format("hh:mm A")})]})},{name:"Actions",minWidth:"100px",cell:t=>e("div",{className:"column-action",children:l(K,{children:[e(U,{tag:"div",className:"btn btn-sm",children:e(ye,{size:14,className:"cursor-pointer"})}),l(X,{children:[l($,{tag:F,className:"w-100",to:`/user/view/${t.id}`,children:[e(ee,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Details"})]}),l($,{tag:F,to:`/user/view/${t.id}&edit=true`,className:"w-100",children:[e(Ce,{size:14,className:"me-50"}),e("span",{className:"align-middle",children:"Edit"})]})]})]})})}],Me=({store:t,toggleSidebar:i,handlePerPage:d,rowsPerPage:n,handleFilter:o,searchTerm:s})=>{function p(N){let h;const r=",",b=`
`,x=Object.keys(t[0]);return h="",h+=x.join(r),h+=b,N.forEach(c=>{let A=0;x.forEach(y=>{A>0&&(h+=r),h+=c[y],A++}),h+=b}),h}function m(N){const h=document.createElement("a");let r=p(N);if(r===null)return;const b="export.csv";r.match(/^data:text\/csv/i)||(r=`data:text/csv;charset=utf-8,${r}`),h.setAttribute("href",encodeURI(r)),h.setAttribute("download",b),h.click()}return e("div",{className:"invoice-list-table-header w-100 me-1 ms-50 mt-2 mb-75",children:l(I,{children:[e(S,{xl:"6",className:"d-flex align-items-center p-0",children:l("div",{className:"d-flex align-items-center w-100",children:[e("label",{htmlFor:"rows-per-page",children:"Show"}),l(g,{className:"mx-50",type:"select",id:"rows-per-page",value:n,onChange:d,style:{width:"5rem"},children:[e("option",{value:"10",children:"10"}),e("option",{value:"25",children:"25"}),e("option",{value:"50",children:"50"})]}),e("label",{htmlFor:"rows-per-page",children:"Entries"})]})}),l(S,{xl:"6",className:"d-flex align-items-sm-center justify-content-xl-end justify-content-start flex-xl-nowrap flex-wrap flex-sm-row flex-column pe-xl-1 p-0 mt-xl-0 mt-1",children:[l("div",{className:"d-flex align-items-center mb-sm-0 mb-1 me-1",children:[e("label",{className:"mb-0",htmlFor:"search-invoice",children:"Search:"}),e(g,{id:"search-invoice",className:"ms-50 w-100",type:"text",value:s,onChange:N=>o(N.target.value)})]}),l("div",{className:"d-flex align-items-center table-header-actions",children:[l(K,{className:"me-1",children:[l(U,{color:"secondary",caret:!0,outline:!0,children:[e(Fe,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"Export"})]}),e(X,{children:l($,{className:"w-100",onClick:()=>m(t),children:[e(ee,{className:"font-small-4 me-50"}),e("span",{className:"align-middle",children:"CSV"})]})})]}),e(L,{className:"add-new-user",color:"primary",onClick:i,children:"Add New User"})]})]})]})})},Re=({allUserData:t,total:i})=>{const d=R(),[n,o]=u.exports.useState("desc"),[s,p]=u.exports.useState(""),[m,N]=u.exports.useState(1),[h,r]=u.exports.useState("id"),[b,x]=u.exports.useState(!1),[c,A]=u.exports.useState(10),[y,V]=u.exports.useState({value:"",label:"All"}),[w,H]=u.exports.useState({value:"",label:"All"}),[P,B]=u.exports.useState({value:"",label:"All",number:0}),{newUserData:Z}=te(a=>a.user),T=()=>x(!b);u.exports.useEffect(()=>{let a,f={page:m,plan:w.value,subStatus:y.value,status:P.value,limit:c,keyword:s};return s?a=setTimeout(()=>{d(j(f))},3e3):a=setTimeout(()=>{d(j(f))},100),Z&&(T(),a=setTimeout(()=>{d(j(f))},1e3)),()=>{clearTimeout(a)}},[d,m,w,y,c,s,P,Z]),u.exports.useEffect(()=>{N(1)},[w,y,P]);const se=[{value:"",label:"All"},{value:"active",label:"Active"},{value:"cancel",label:"Cancelled"}],re=[{value:"",label:"All"},{value:"Creator Monthly Plan",label:"Creator Monthly Plan"},{value:"Agency Monthly Plan",label:"Agency Monthly Plan"},{value:"Company Monthly Plan",label:"Company Monthly Plan"},{value:"Free Trial",label:"Free Trial"}],ne=[{value:"",label:"All",number:0},{value:"banned",label:"Banned",number:1},{value:"active",label:"Active",number:2},{value:"inactive",label:"Inactive",number:3},{value:"deactivated",label:"Deactivated",number:4}],ie=a=>{N(a.selected+1)},ce=a=>{const f=parseInt(a.currentTarget.value);A(f)},oe=a=>{p(a)},de=()=>{const a=Number(Math.ceil(i/c));return e(Ae,{previousLabel:"",nextLabel:"",pageCount:a||1,activeClassName:"active",forcePage:m!==0?m-1:0,onPageChange:f=>ie(f),pageClassName:"page-item",nextLinkClassName:"page-link",nextClassName:"page-item next",previousClassName:"page-item prev",previousLinkClassName:"page-link",pageLinkClassName:"page-link",containerClassName:"pagination react-paginate justify-content-end my-2 pe-1"})},me=()=>{const a={role:y.value,currentPlan:w.value,status:P.value,q:s},f=Object.keys(a).some(function(be){var Y;return((Y=a[be])==null?void 0:Y.length)>0});return(t==null?void 0:t.length)>0&&!f?t:(t==null?void 0:t.length)===0&&f?[]:t==null?void 0:t.slice(0,c)},ue=(a,f)=>{o(f),r(a.sortField)},he=a=>{!a||(a.value!==""&&a.label?V({label:a.label,value:a.value}):V({label:a.label,value:a.value}))},pe=a=>{!a||(a.value!==""&&a.label?H({label:a.label,value:a.value}):H({label:a.label,value:a.value}))},fe=a=>{!a||(a.value!==""&&a.label?B({label:a.label,value:a.value}):B({label:a.label,value:a.value}))};return l(u.exports.Fragment,{children:[l(M,{children:[e(ae,{children:e(Se,{tag:"h4",children:"Filters"})}),e(le,{children:l(I,{children:[l(S,{md:"4",children:[e(v,{for:"role-select",children:"Subscription Status"}),e(O,{isClearable:!1,value:y||"",options:se,className:"react-select",classNamePrefix:"select",theme:E,onChange:he})]}),l(S,{className:"my-md-0 my-1",md:"4",children:[e(v,{for:"plan-select",children:"Plan"}),e(O,{theme:E,isClearable:!1,className:"react-select",classNamePrefix:"select",options:re,value:w||"",onChange:pe})]}),l(S,{md:"4",children:[e(v,{for:"status-select",children:"User Status"}),e(O,{theme:E,isClearable:!1,className:"react-select",classNamePrefix:"select",options:ne,value:P||"",onChange:fe})]})]})})]}),e(M,{className:"overflow-hidden",children:e("div",{className:"react-dataTable",children:e(we,{noHeader:!0,subHeader:!0,sortServer:!0,pagination:!0,responsive:!0,paginationServer:!0,columns:$e,onSort:ue,sortIcon:e(Pe,{}),className:"react-dataTable",paginationComponent:de,data:me(),subHeaderComponent:e(Me,{store:t,searchTerm:s,rowsPerPage:c,handleFilter:oe,handlePerPage:ce,toggleSidebar:T})})})}),e(Ee,{open:b,toggleSidebar:T})]})},He=()=>{var o;const t=R(),{allUserData:i,allUserDataLoading:d,allUserDataError:n}=te(s=>s.user);return u.exports.useEffect(()=>{t(j())},[]),l("div",{className:"app-user-list",children:[l(M,{children:[e(ae,{children:e("h5",{children:"User Stats"})}),e(le,{children:e(I,{children:(o=i==null?void 0:i.stats)==null?void 0:o.map(s=>{let p=null;return s.title==="Total Users"?p=e(q,{size:15}):s.title==="Active Users"?p=e(ze,{size:15}):p=e(q,{size:15}),e(S,{lg:"4",sm:"6",children:e(ke,{className:"shadow-lg",statTitle:s==null?void 0:s.title,icon:p,renderStats:e("h3",{className:"fw-bolder mb-75",children:s==null?void 0:s.count})})})})})})]}),e(Re,{allUserData:i==null?void 0:i.data,total:i==null?void 0:i.total})]})};export{He as default};
